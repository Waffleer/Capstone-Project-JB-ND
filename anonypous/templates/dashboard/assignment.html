{% extends 'base.html' %}


{% block title%}
Assignment
{% endblock title%}



{% block content%}

{% if user.is_authenticated %}
    <body>



        <div class="card" style="width:100%;">
        <div class="card-body">
            <h5 class="card-title">{{assignmentName}}</h5>
            <p class="card-body"><strong>{{pointValue}} Points</strong></p>
            <p class="card-body">{{assignmentInstructions}}</p>
            {% if user.profile.teacher == True %}

                <!-- IF ALL SUBMISSIONS ARE GRADED -->
                <button type="button" class="btn btn-primary">Commit to Grades</button>
            {% else %}
                <form action='' method='POST'>{% csrf_token %}
                <!-- IF NOT SUBMITTED -->
                <button type="submit" class="btn btn-primary">Submit</button>


                <!-- IF ALREADY SUBMITTED    <button type="button" class="btn btn-primary" disabled>Submit</button>  -->

                <br><br><br>
                <textarea name="text" class="form-control" rows="5">{{ text }}</textarea>
                </form>






            {% endif %}
        </div>
        </div>



        
    </body>
    {% if user.profile.teacher == True %}
        <style>
            .submissions-container {
                width: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }

            .submission {
                width: 100%;
                height: 75px;
                display: flex;
                flex-direction: row;
                justify-content: space-around;
                align-items: center;
                border-bottom: solid black 1px;
                cursor: default;
            }

            .header {
                font-weight: bolder;
                text-decoration: underline;
                cursor: default;
            }

            .id {
                width: 500px;
            }

            .date {
                width: 200px;
            }

            .status {
                width: 100px;
            }

            .active:hover {
                background-color: #eee;
                cursor: pointer;
                color: black;
            }

            a {
                color: black;
                text-decoration: none;
            }
        </style>
        
        <body>
            <div class="submissions-container">
                <div class="submission header">
                    <div class="id"><strong>Submission ID</strong></div>
                    <div class="date"><strong>Submission Date</strong></div>
                    <!-- <div class="status"><strong>Status</strong></div> -->
                </div>

                {% for x in submissions%}
                    <a href="class/{{classCode}}/{{assigmentCode}}/{{x.0}}">
                        <div class="submission active">
                            <div class="id">{{x.0}}</div>
                            <div class="date">{{x.1}}</div>
                            <!-- <div class="status">Graded</div> -->
                        </div>
                    </a>

                {% endfor %}
               
        </body>



    {% else %}

        </body>
    {% endif %}



{% else %}
    <meta http-equiv="Refresh" content="0; url='/login'" />
{% endif %}
{% endblock content%}